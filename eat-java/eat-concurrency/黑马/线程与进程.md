### 多线程的出现是要解决什么问题的?

CPU、内存、I/O 设备的速度是有极大差异

- CPU 增加了缓存，均衡CPU与内存的速度差异，导致 `可见性`问题

- **操作系统增加了进程、线程，以分时复用 CPU，均衡 CPU 与 I/O 设备的速度差异，充分利用CPU资源**。导致 `原子性`问题
  - 采用多线程的方式去同时完成几件事情而不互相干扰
- 编译程序优化指令执行次序，使得缓存能够得到更加合理地利用，导致 `有序性`问题

### 多线程的优缺点？

优点

- 提高资源利用率（在IO的时候，让线程去做其他事情）
- 提高响应速度（异步）

缺点

- 多个线程切换，反而性能下降
- 死锁
- 等待使用共享资源时造成的性能下降
- 开发成本高

### 进程是什么？



### 线程是什么？



### 进程与线程的区别？



### 并行与并发的区别？



### 导致并发问题的根源是什么？

- 可见性：CPU缓存引起

  ```java
  //线程1执行的代码
  int i = 0;
  i = 10;
   
  //线程2执行的代码
  j = i; 
  ```

  > 线程1对变量i修改了之后，线程2没有立即看到线程1修改的值。
  >
  > 在CPU1的高速缓存当中i的值变为10了，却没有立即写入到主存当中。此时线程2执行 j = i，它会先去主存读取i的值并加载到CPU2的缓存当中，注意此时内存当中i的值还是0，那么就会使得j的值为0，而不是10。

- 原子性：分时复用引起

  > 一个操作或者多个操作 要么全部执行并且执行的过程不会被任何因素打断，要么就都不执行。

- 有序性：重排序引起

  > 在执行程序时为了提高性能，编译器和处理器常常会对指令做重排序，那么可能命令的执行顺序与源码不同

  

### 同步和异步的区别？



### 如何创建和运行线程？

thread

runnable

futuretask+callable

### Thread和Runnable的区别？